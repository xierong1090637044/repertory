<!--pages/goods/goods-add/goods-add.wxml-->
<i-message id="message" />
<view class='goods-container'>
  <form bindsubmit='handleAddGoods'>
  <view class='content_scroll'>
    <view class='list'>
      <view class='list-text'>Product pictures</view>
      <view class='list-add-up' bindtap='choose_image' style='display:{{icon}}'>
         <i class="iconfont icon-fenxiang-copy icon-upload"></i>
      </view>
      <view class='list-add' style='display:{{image}}'>
         <image src='{{temppath}}' style='width:50px;height:50px' bindtap='choose_image'></image>
      </view>
    </view>
    
    <i-panel title="Basic information (product name required)">
      <i-input title="Product name" value="{{goodsName}}" name="goodsName" placeholder="Please enter the product name." />
      <i-input title="Registration number" value="{{regNumber}}" name="regNumber" placeholder="Please enter the registration number." />
      <i-input title="Manufacturer" value="{{producer}}" name="producer" placeholder="Please enter the manufacturer" />
      <i-input title="Shelf Number" value="{{position}}" name="position" placeholder="Please enter the shelf number for storage." />
      <i-input title="Product bar code" value="{{productCode}}" name="productCode" placeholder="Known product barcode input is known, unknown is automatically generated" />
    </i-panel>

    <i-panel title="Product Category (can be added to my - > Product Category)">
     <picker bindchange="bindPickerChange" value="{{index}}" range="{{class_text}}" range-key="class_text">
        <i-input title="Product category" value="{{class_select_text}}" name="goodsClass" placeholder="Please select the product category" disabled='true'/>
     </picker>
    </i-panel>

    <i-panel title="Product specification">
      <i-input title="Packaging content" value="{{packageContent}}" name="packageContent" placeholder="Please enter the packing content." />
      <i-input title="Packaging unit" placeholder="Please fill in the packing unit." value="{{packingUnit}}" 
name="packingUnit"/>
      <!--<i-input title="型号" placeholder="请填写产品型号" value="{{packModel}}" 
name="packModel"/>-->
    </i-panel>

    <i-panel title="Product price (required, 0)">
      <i-input title="Purchase price" type="digit" value="{{costPrice}}" name="costPrice" placeholder="Please enter the purchase price." />
      <i-input title="Wholesale price" type="digit" value="{{retailPrice}}" name="retailPrice" placeholder="Please choose the retail price." />
    </i-panel>

    <navigator open-type="navigate" url="/pages/second/choose_stock/choose_stock">
    <i-panel title="Depository">
      <i-input title="Depository" value="{{stock}}" name="stock" placeholder="Please choose storage warehouse" disabled='true'/>
    </i-panel>
    </navigator>

    <i-panel title="Existing inventory">
      <i-input title="Existing inventory" type="digit" value="{{reserve}}" name="reserve" placeholder="Please enter the existing stock" />
    </i-panel>

    <view class="caption-wrap">
      <i-collapse name="{{name}}">
        <i-collapse-item title="More information" name="name1" i-class-title="collapse-item-title">
            <view slot="content">
              <i-input title="More information" type="number" value="{{warning_num}}" name="warning_num" placeholder="Please enter stock warning quantity" maxlength='100'/>
              <i-input title="Product Brief" type="text" value="{{product_info}}" name="product_info" placeholder="Please enter a brief description of the goods." maxlength='100'/>
              <picker bindchange="select_producttime" mode = "date" fields="day">
                <i-input title="Date of manufacture" value="{{producttime}}" name="producttime" placeholder="Please select the production date of the product." disabled='true'/>
              </picker>
              <picker bindchange="select_nousetime"  mode = "date" fields="day">
                <i-input title="Expiration date" value="{{nousetime}}" name="nousetime" placeholder="Please select the expiration date of the product." disabled='true'/>
              </picker>
            </view>
        </i-collapse-item>
      </i-collapse>  
    </view>

   </view>
    <view class='btn-group'>
      <button class='i-btn i-btn-primary i-btn-small' form-type="submit" wx:if="{{!loading}}">
        <i-icon type="add" /> Confirm new
      </button>
      <i-button type="primary" loading="true" size="small" wx:if="{{loading}}">
        上传中
      </i-button>
    </view>
  </form>
</view>